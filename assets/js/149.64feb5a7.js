(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{703:function(a,t,s){"use strict";s.r(t);var n=s(44),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("之前讲过玩客云可以安装armbian与openwrt，但是并没有安装docker，因为玩客云的s905是32位的，可用的docker镜像比较少，所以没有折腾，最近发现了一个刷机即可使用docker的armbian镜像，就玩了一下，可以实现大部分的斐讯n1的功能。")]),a._v(" "),s("p",[a._v("有了omv5与docker丝毫不逊色N1的玩客云")]),a._v(" "),s("p",[a._v("让玩客云与N1一样出色不仅要omv还要docker")]),a._v(" "),s("p",[a._v("可以安装docker的armbian镜像docker_Armbian_20.05.4_Aml-s805_focal_current_5.7.0-rc5\nhttps://pan.baidu.com/s/132mbd05DE9wqYoRiw4dA4Q\n提取码：5wxi")]),a._v(" "),s("p",[a._v("镜像通过写盘工具写到u盘，插入到靠近网口的usb上，插上电源方可加载系统")]),a._v(" "),s("p",[a._v("第一次启动会很慢，稍安勿躁\n启动以后，去路由器里拿到ip\n用ssh工具登录\n用户名是root\n密码是1234\n登录后要求修改root密码\n输入密码1234\n然后输入两次新密码，有复杂度要求，数字密码大写特殊符号等，你看着输吧")]),a._v(" "),s("p",[a._v("设置成功会要求新建用户，这里取消就可以了，不用新用户了")]),a._v(" "),s("p",[a._v("按ctrl c会中断")]),a._v(" "),s("p",[a._v("这时候系统还是在u盘了的")]),a._v(" "),s("p",[a._v("cd /boot/install\n./install.sh\n会把系统写入到emmc中")]),a._v(" "),s("p",[a._v("等待写入完毕会自动退出\n拔下u盘，拔电重启")]),a._v(" "),s("p",[a._v("耐心等待启动完毕，ip大概率还是之前的ip，如果登陆不了就去路由器里确认。")]),a._v(" "),s("p",[a._v("再次登录成功，系统就刷好了")]),a._v(" "),s("h2",{attrs:{id:"安装samba实现共享"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装samba实现共享"}},[a._v("#")]),a._v(" 安装samba实现共享")]),a._v(" "),s("p",[a._v("插上移动硬盘或者u盘，我这里是一个u盘")]),a._v(" "),s("p",[a._v("需要分区格式化，我这里就不演示了，用fdisk或者parted分区，挂载")]),a._v(" "),s("p",[a._v("我挂在到了/data目录上")]),a._v(" "),s("p",[a._v("安装samba")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" samba\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置用户")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" zhangxiaoqi\nsmbpasswd -a zhangxiaoqi\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 123456")]),a._v("\n")])])]),s("p",[a._v("配置共享的目录\nnano  /etc/samba/smb.conf")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("wkyshare"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n   comment "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" wky shares\n   path "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /data\n   create mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 0664\n   directory mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 0775\n   "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" only "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" No\n   valid "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("users")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" zhangxiaoqi\n")])])]),s("p",[a._v("重启服务")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl restart smbd\nsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" smbd\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 可以在局域网的win机器访问")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# \\\\ip 查看共享是否正常")]),a._v("\n")])])]),s("p",[a._v("就可以了安装docker")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" docker.io\ndocker info\n")])])]),s("h2",{attrs:{id:"下面是必装镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下面是必装镜像"}},[a._v("#")]),a._v(" 下面是必装镜像")]),a._v(" "),s("p",[a._v("安装portainer")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v(":8000 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v(":9000 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -v /var/run/docker.sock:/var/run/docker.sock "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -v /data/docker/portainer/data:/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("--name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("portainer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n --restart"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nportainer/portainer-ce\n")])])]),s("p",[a._v("安装openwrt")]),a._v(" "),s("p",[a._v("docker pull virking/openwrt:20.04\nip link set eth0 promisc on\ndocker network create -d macvlan --subnet=192.168.188.0/24 --gateway=192.168.188.1 -o parent=eth0 macnet")]),a._v(" "),s("p",[a._v("启动一个openwrt容器\ndocker run -i -t -d --name=openwrt --restart=always --network=macnet --privileged=true virking/openwrt:20.04 /sbin/init")]),a._v(" "),s("p",[a._v("编辑网卡\nvi /etc/config/network\n内容如下，注意修改网段")]),a._v(" "),s("p",[a._v("config interface 'loopback'\noption ifname 'lo'\noption proto 'static'\noption ipaddr '127.0.0.1'\noption netmask '255.0.0.0'")]),a._v(" "),s("p",[a._v("config globals 'globals'\noption ula_prefix 'fdd3:60d7:a044::/48'")]),a._v(" "),s("p",[a._v("config interface 'lan'\noption type 'bridge'\noption ifname 'eth0'\noption proto 'static'\noption ipaddr '192.168.188.254' #openwrt的IP地址，可自定义网段内任意IP，不发生冲突即可\noption netmask '255.255.255.0'\noption gateway '192.168.188.1' #填写主路由的IP地址\noption dns '192.168.188.1' #填写主路由的IP地址")]),a._v(" "),s("p",[a._v("config interface 'vpn0'\noption ifname 'tun0'\noption proto 'none'")]),a._v(" "),s("p",[a._v("重启玩客云等待openwrt启动后\n账密：root-password")]),a._v(" "),s("p",[a._v("回到玩客云shell\n/etc/network/interfaces /etc/network/interfaces.bak\nvi /etc/network/interfaces")]),a._v(" "),s("p",[a._v("添加如下内容\nauto macvlan\niface macvlan inet static\naddress 192.168.188.8\nnetmask 255.255.255.0\ngateway 192.168.188.1\ndns-nameservers 192.168.188.1\npre-up ip link add macvlan link eth0 type macvlan mode bridge\npost-down ip link del macvlan link eth0 type macvlan mode bridge")]),a._v(" "),s("p",[a._v("Bushu transmission")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("\ndocker run "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("transmission "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("USERNAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PUID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PGID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9091")]),a._v(":9091 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("51413")]),a._v(":51413 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("51413")]),a._v(":51413/udp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v /data/transmission/config:/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v /data:/downloads "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v /data/transmission/watch:/watch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --restart unless-stopped "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nlsioarmhf/transmission\n\n")])])]),s("p",[a._v("给transmission安装界面\n到docker的shell中\nwget https://gitee.com/culturist/transmission-web-control/raw/master/release/install-tr-control-gitee.sh\nbash install-tr-control-cn.sh")]),a._v(" "),s("p",[a._v("网盘nextcloud")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--name nextcloud "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8085")]),a._v(":80 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /data/docker/nextcloud/html:/var/www/html "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--restart unless-stopped "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nnextcloud\n\n")])])]),s("p",[a._v("blog")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 --name typecho -v "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/data/tyepcho"')]),a._v(":/var/www/html yangxuan8282/typecho:php-arm\n")])])]),s("p",[a._v("aria2")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --name aria2-pro "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --restart unless-stopped "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --log-opt max-size"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1m "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --network "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PUID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PGID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RPC_SECRET")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12345")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RPC_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6800")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6888")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -v /data/docker/aria2/config:/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -v /data/downloads:/downloads "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    p3terx/aria2-pro\n")])])]),s("p",[a._v("浏览器安装插件连接 6800端口即可")]),a._v(" "),s("p",[a._v("web ui")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/mayswind/AriaNg",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/mayswind/AriaNg"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("同步工具")]),a._v(" "),s("p",[a._v("verysync")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--restart"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--name verysync "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /data/verysync:/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8886")]),a._v(":8886 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nunwenliu/verysync:armv7\n")])])]),s("p",[a._v("qbittorrent")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("qbittorrent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PUID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PGID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Aisa/Shanghai "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("WEBUI_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --network "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v /data/docker/qb/config:/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v /data/qb_downloads:/downloads "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --restart unless-stopped "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  ghcr.io/linuxserver/qbittorrent\n")])])]),s("p",[a._v("有了docker，玩客云确实一个不错的nas了")]),a._v(" "),s("p",[a._v("相比直接安装openwrt，可用性会高很多，也经得起折腾")]),a._v(" "),s("p",[a._v("希望大家不要瞧不起玩客云，哈")]),a._v(" "),s("p",[a._v("玩客云的终点就在这里了，已经是极限了")]),a._v(" "),s("p",[a._v("本期视频就到这里了，我是张大七，我们下期见。")])])}),[],!1,null,null,null);t.default=e.exports}}]);