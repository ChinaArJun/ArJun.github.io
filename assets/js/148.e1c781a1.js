(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{702:function(a,s,t){"use strict";t.r(s);var n=t(44),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("让玩客云与N1一样出色不仅要omv还要docker")]),a._v(" "),t("p",[a._v("可以安装docker的armbian镜像docker_Armbian_20.05.4_Aml-s805_focal_current_5.7.0-rc5\nhttps://pan.baidu.com/s/132mbd05DE9wqYoRiw4dA4Q\n提取码：5wxi")]),a._v(" "),t("p",[a._v("镜像通过写盘工具写到u盘，插入到靠近网口的usb上，插上电源方可加载系统")]),a._v(" "),t("p",[a._v("第一次启动会很慢，稍安勿躁\n启动以后，去路由器里拿到ip\n用ssh工具登录\n用户名是root\n密码是1234\n登录后要求修改root密码\n输入密码1234\n然后输入两次新密码，有复杂度要求，数字密码大写特殊符号等，你看着输吧")]),a._v(" "),t("p",[a._v("设置成功会要求新建用户，这里取消就可以了，不用新用户了")]),a._v(" "),t("p",[a._v("按ctrl c会中断")]),a._v(" "),t("p",[a._v("这时候系统还是在u盘了的")]),a._v(" "),t("p",[a._v("cd /boot/install\n./install.sh\n会把系统写入到emmc中")]),a._v(" "),t("p",[a._v("等待写入完毕会自动退出\n拔下u盘，拔电重启")]),a._v(" "),t("p",[a._v("耐心等待启动完毕，ip大概率还是之前的ip，如果登陆不了就去路由器里确认。")]),a._v(" "),t("p",[a._v("再次登录成功，系统就刷好了")]),a._v(" "),t("h2",{attrs:{id:"配置挂载硬盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置挂载硬盘"}},[a._v("#")]),a._v(" 配置挂载硬盘")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("blkid /dev/sda1\nUUID=2f01c629-073b-4980-9e98-3e1db26bea4e /data ext4 defaults,nosuid 0 0\n")])])]),t("ul",[t("li",[t("a",{attrs:{href:"https://zaihuiba.net/index.php/default/63.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"就可以了安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#就可以了安装docker"}},[a._v("#")]),a._v(" 就可以了安装docker")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" docker.io\ndocker info\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#开机自动启动脚本")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker.service")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!/bin/sh")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" docker\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start docker\n")])])]),t("p",[a._v("安装docker-compose")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo apt install docker-compose \n")])])]),t("h2",{attrs:{id:"安装portainer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装portainer"}},[a._v("#")]),a._v(" 安装portainer")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v(":8000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -v /var/run/docker.sock:/var/run/docker.sock "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n -v /data/docker/portainer/data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("--name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("portainer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nportainer/portainer-ce\n")])])]),t("h2",{attrs:{id:"安装samba实现共享"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装samba实现共享"}},[a._v("#")]),a._v(" 安装samba实现共享")]),a._v(" "),t("p",[a._v("插上移动硬盘或者u盘，我这里是一个u盘")]),a._v(" "),t("p",[a._v("需要分区格式化，我这里就不演示了，用fdisk或者parted分区，挂载")]),a._v(" "),t("p",[a._v("我挂在到了/data目录上")]),a._v(" "),t("h2",{attrs:{id:"安装samba"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装samba"}},[a._v("#")]),a._v(" 安装samba")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update \n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" samba\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置用户")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" zhangxiaoqi\nsmbpasswd -a zhangxiaoqi\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 123456")]),a._v("\n")])])]),t("h3",{attrs:{id:"配置共享的目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置共享的目录"}},[a._v("#")]),a._v(" 配置共享的目录")]),a._v(" "),t("p",[a._v("nano  /etc/samba/smb.conf")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("wkyshare"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n   comment "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" wky shares\n   path "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /data\n   create mask "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 0664\n   directory mask "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 0775\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" only "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" No\n   valid "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("users")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" zhangxiaoqi\n")])])]),t("p",[a._v("重启服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl restart smbd\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" smbd\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 可以在局域网的win机器访问")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# \\\\ip 查看共享是否正常")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);